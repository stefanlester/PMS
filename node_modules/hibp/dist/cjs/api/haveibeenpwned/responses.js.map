{"version":3,"file":"responses.js","sources":["../../../../src/api/haveibeenpwned/responses.ts"],"sourcesContent":["/**\n * Known potential responses from the remote API.\n *\n * Unfortunately, the API does not send a decent human-readable message back\n * with each response, but they are documented on the website:\n * https://haveibeenpwned.com/api/v3#ResponseCodes\n *\n * These objects simply provide a mapping between the HTTP response status code\n * and the corresponding human-readable message so we can throw a more\n * descriptive error for the consumer. (They are also leveraged in our tests.)\n */\n\nimport { ResponseBody } from './types';\n\n/** @internal */\nexport interface HaveIBeenPwnedApiResponse {\n  headers: Map<string, string>;\n  status: number;\n  statusText?: string;\n  body?: ResponseBody;\n}\n\nconst emptyHeaders = new Map<string, string>();\n\n/** @internal */\nexport const OK: HaveIBeenPwnedApiResponse = {\n  headers: emptyHeaders,\n  status: 200,\n};\n\n/** @internal */\nexport const BAD_REQUEST: HaveIBeenPwnedApiResponse = {\n  headers: emptyHeaders,\n  status: 400,\n  statusText:\n    'Bad request â€” the account does not comply with an acceptable format.',\n};\n\n/**\n * This response has unique behavior. For some reason, the API includes an\n * object in the response body for this one, containing a human-readable\n * message. Manually populating the message here purely for use in tests.\n *\n * @internal\n */\nexport const UNAUTHORIZED: HaveIBeenPwnedApiResponse = {\n  headers: emptyHeaders,\n  status: 401,\n  body: {\n    statusCode: 401,\n    message: 'Access denied due to missing hibp-api-key.',\n  },\n};\n\n/** @internal */\nexport const FORBIDDEN: HaveIBeenPwnedApiResponse = {\n  headers: emptyHeaders,\n  status: 403,\n  statusText: 'Forbidden - access denied.',\n};\n\n/** @internal */\nexport const BLOCKED: HaveIBeenPwnedApiResponse = {\n  headers: new Map([['cf-ray', 'someRayId']]),\n  status: 403,\n};\n\n/** @internal */\nexport const NOT_FOUND: HaveIBeenPwnedApiResponse = {\n  headers: emptyHeaders,\n  status: 404,\n};\n\n/**\n * This response has unique behavior. For some reason, the API includes an\n * object in the response body for this one, containing a human-readable\n * message. Manually populating the message here purely for use in tests.\n *\n * @internal\n */\nexport const TOO_MANY_REQUESTS: HaveIBeenPwnedApiResponse = {\n  headers: emptyHeaders,\n  status: 429,\n  body: {\n    statusCode: 429,\n    message: 'Rate limit is exceeded. Try again in 2 seconds.',\n  },\n};\n"],"names":["emptyHeaders","Map","OK","headers","status","BAD_REQUEST","statusText","UNAUTHORIZED","body","statusCode","message","FORBIDDEN","BLOCKED","NOT_FOUND","TOO_MANY_REQUESTS"],"mappings":";;;;AAAA;;;;;;;;;;;AAsBA,IAAMA,YAAY,gBAAG,IAAIC,GAAJ,EAArB;AAEA;;IACaC,EAAE,GAA8B;AAC3CC,EAAAA,OAAO,EAAEH,YADkC;AAE3CI,EAAAA,MAAM,EAAE;AAFmC;AAK7C;;IACaC,WAAW,GAA8B;AACpDF,EAAAA,OAAO,EAAEH,YAD2C;AAEpDI,EAAAA,MAAM,EAAE,GAF4C;AAGpDE,EAAAA,UAAU,EACR;AAJkD;AAOtD;;;;;;;;IAOaC,YAAY,GAA8B;AACrDJ,EAAAA,OAAO,EAAEH,YAD4C;AAErDI,EAAAA,MAAM,EAAE,GAF6C;AAGrDI,EAAAA,IAAI,EAAE;AACJC,IAAAA,UAAU,EAAE,GADR;AAEJC,IAAAA,OAAO,EAAE;AAFL;AAH+C;AASvD;;IACaC,SAAS,GAA8B;AAClDR,EAAAA,OAAO,EAAEH,YADyC;AAElDI,EAAAA,MAAM,EAAE,GAF0C;AAGlDE,EAAAA,UAAU,EAAE;AAHsC;AAMpD;;IACaM,OAAO,GAA8B;AAChDT,EAAAA,OAAO,eAAE,IAAIF,GAAJ,CAAQ,CAAC,CAAC,QAAD,EAAW,WAAX,CAAD,CAAR,CADuC;AAEhDG,EAAAA,MAAM,EAAE;AAFwC;AAKlD;;IACaS,SAAS,GAA8B;AAClDV,EAAAA,OAAO,EAAEH,YADyC;AAElDI,EAAAA,MAAM,EAAE;AAF0C;AAKpD;;;;;;;;IAOaU,iBAAiB,GAA8B;AAC1DX,EAAAA,OAAO,EAAEH,YADiD;AAE1DI,EAAAA,MAAM,EAAE,GAFkD;AAG1DI,EAAAA,IAAI,EAAE;AACJC,IAAAA,UAAU,EAAE,GADR;AAEJC,IAAAA,OAAO,EAAE;AAFL;AAHoD;;;;;;;;;;"}